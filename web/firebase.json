{
  "hosting": {
    "public": "public",
    "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
    "rewrites": [
      {
        "source": "**",
        "function": "nextjsFunc"
      },
      {
        "source": "/api/checkouts{,/**}",
        "run": {
          "serviceId": "checkouts-http",
          "region": "asia-southeast1"
        }
      },
      {
        "source": "/api/orders{,/**}",
        "run": {
          "serviceId": "orders-http",
          "region": "asia-southeast1"
        }
      },
      {
        "source": "/api/products{,/**}",
        "run": {
          "serviceId": "products-http",
          "region": "asia-southeast1"
        }
      },
      {
        "source": "/api/users{,/**}",
        "run": {
          "serviceId": "users-http",
          "region": "asia-southeast1"
        }
      }
    ]
  },
  "functions": {
    "source": ".",
    "predeploy": [
      "npm --prefix \"$PROJECT_DIR\" install",
      "npm --prefix \"$PROJECT_DIR\" run build"
    ],
    "runtime": "nodejs14"
  }
}